<div class="details-container">
  <button mat-button color="primary" (click)="goBack()">
    <mat-icon>arrow_back</mat-icon> Back to Missions
  </button>

  <div *ngIf="loading" class="loading-container">
    <mat-spinner></mat-spinner>
  </div>

  <div *ngIf="error" class="error-container">
    <h2>Error loading mission details</h2>
    <p>Unable to load the mission details. Please try again later.</p>
    <button mat-raised-button color="primary" (click)="goBack()">Return to Mission List</button>
  </div>

  <mat-card *ngIf="launch && !loading && !error">
    <mat-card-header>
      <div mat-card-avatar *ngIf="launch.links.mission_patch_small" class="mission-header-image">
        <img [src]="launch.links.mission_patch_small" alt="Mission Patch">
      </div>
      <mat-card-title>{{ launch.mission_name }}</mat-card-title>
      <mat-card-subtitle>Flight #{{ launch.flight_number }} ({{ launch.launch_year }})</mat-card-subtitle>
    </mat-card-header>
    
    <mat-card-content>
      <div class="details-grid">
        <div class="details-section">
          <h3>Mission Details</h3>
          <p *ngIf="launch.details">{{ launch.details }}</p>
          <p *ngIf="!launch.details">No details available for this mission.</p>
        </div>
        
        <div class="details-section">
          <h3>Rocket Information</h3>
          <p><strong>Name:</strong> {{ launch.rocket.rocket_name }}</p>
          <p><strong>Type:</strong> {{ launch.rocket.rocket_type }}</p>
        </div>
      </div>
      
      <div class="links-section">
        <h3>Links</h3>
        <div class="links-grid">
          <a mat-raised-button color="primary" *ngIf="launch.links.article_link" [href]="launch.links.article_link" target="_blank">
            <mat-icon>article</mat-icon> Article
          </a>
          <a mat-raised-button color="primary" *ngIf="launch.links.wikipedia" [href]="launch.links.wikipedia" target="_blank">
            <mat-icon>language</mat-icon> Wikipedia
          </a>
          <a mat-raised-button color="primary" *ngIf="launch.links.video_link" [href]="launch.links.video_link" target="_blank">
            <mat-icon>videocam</mat-icon> Watch Video
          </a>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>